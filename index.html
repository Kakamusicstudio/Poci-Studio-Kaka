<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kaka Music Studio â€“ Neon Party Lite</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Montserrat:wght@300;500&display=swap" rel="stylesheet">
<style>
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:'Montserrat',sans-serif;background:#05050a;color:#fff;overflow-x:hidden;min-height:100vh;position:relative;}
#bgflash{position:fixed; inset:0; z-index:-5; pointer-events:none; background:#05050a;}
body::before{content:"";position:fixed;inset:0;z-index:-4;background:linear-gradient(45deg,#ff00ff,#00ffff,#ff0,#f0f);background-size:400% 400%;animation:bgMove 20s linear infinite;opacity:0.15;}
@keyframes bgMove{0%{background-position:0% 0}50%{background-position:100% 100}100%{background-position:0% 0;}}
#opening{position:fixed; inset:0; background:#05050a; display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; z-index:9999;}
#opening.fade-out{opacity:0; transform:scale(1.05); filter:blur(10px);}
#opening h2{font-family:'Press Start 2P',sans-serif; font-size:22px; color:#0ff; text-shadow:0 0 15px #0ff;}
#opening button{margin-top:20px;padding:14px 28px; border:none;border-radius:12px; background:#ff00ff;color:#05050a;font-weight:700; cursor:pointer;}

.hero{position:relative;height:45vh;overflow:hidden;border-radius:16px;margin:16px;}
.hero img{width:100%;height:100%;object-fit:cover;filter:brightness(.55);border-radius:16px;}
.hero::after{content:"";position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,.6),transparent);}
.hero-text{position:absolute; top:50%; transform:translateY(-50%); width:100%; text-align:center;}
.hero-text h1{font-family:'Press Start 2P',sans-serif; font-size:26px;color:#0ff; text-shadow:0 0 15px #0ff;}

.section{padding:20px 14px;text-align:center;}
.card{background:rgba(10,6,8,.9); border-radius:16px; padding:16px; margin-top:16px; box-shadow:0 0 20px #0ff,0 0 40px #ff0; transition:0.1s;}
.card:hover{transform:translateY(-4px) scale(1.02); box-shadow:0 0 50px #ff0,0 0 80px #0ff;}
.btn{display:block; margin-top:12px; padding:14px; border-radius:14px; background:#ff0;color:#05050a;font-weight:700;text-decoration:none; box-shadow:0 0 25px #ff0,0 0 50px #0ff; transition:.1s;}

footer{padding:18px;font-size:12px;opacity:.85;text-align:center;}
</style>
</head>
<body>

<div id="bgflash"></div>

<div id="opening">
  <h2>Kaka Music Studio</h2>
  <button onclick="openInvite()">Masuk Acara & Musik</button>
</div>

<audio id="bgm" loop>
  <source src="Cafe Music Kaka jz.mp3" type="audio/mpeg">
</audio>

<div class="container">
  <div class="hero">
    <img src="cover smpl.png" alt="Cover">
    <div class="hero-text">
      <h1>Kaka Music Studio</h1>
    </div>
  </div>

  <div class="section">
    <h3>ðŸ“¸ Galeri</h3>
    <div class="card">Cover 1</div>
    <div class="card">Cover 2</div>
    <div class="card">Cover 3</div>
  </div>

  <footer>Musik tetap hidup ðŸŽµ</footer>
</div>

<script>
let bgm=document.getElementById('bgm');
let play=false;
let audioCtx, analyser, source, dataArray;

function openInvite(){
  const o=document.getElementById('opening');
  o.classList.add('fade-out');

  if(!audioCtx){
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    analyser = audioCtx.createAnalyser();
    source = audioCtx.createMediaElementSource(bgm);
    source.connect(analyser);
    analyser.connect(audioCtx.destination);
    analyser.fftSize = 256; // lebih ringan
    dataArray = new Uint8Array(analyser.frequencyBinCount);
  }

  // HP-safe play
  bgm.muted = true;
  bgm.play().then(()=>{
    bgm.pause();
    bgm.muted = false;
    bgm.play();
    play = true;
  }).catch(()=>{});

  setTimeout(()=>o.style.display='none',800);

  animateUltra();
}

const heroText=document.querySelector('.hero-text');
const cards=document.querySelectorAll('.card');
const bgflashElem=document.getElementById('bgflash');

function animateUltra(){
  if(!analyser) return;
  analyser.getByteFrequencyData(dataArray);
  const avg = dataArray.reduce((a,b)=>a+b,0)/dataArray.length;
  const glow=Math.min(100,avg/1);
  const r=Math.floor(Math.random()*255);
  const g=Math.floor(Math.random()*255);
  const b=Math.floor(Math.random()*255);
  const color=`rgb(${r},${g},${b})`;

  heroText.style.textShadow=`0 0 ${glow}px ${color},0 0 ${glow*2}px ${color}`;
  cards.forEach(c=>{
    c.style.boxShadow=`0 0 ${glow}px ${color},0 0 ${glow*2}px ${color}`;
  });
  const alpha=Math.min(0.5,avg/300);
  bgflashElem.style.background=`rgba(${r},${g},${b},${alpha})`;

  requestAnimationFrame(animateUltra);
}
</script>
</body>
</html>
